<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#0a0a20" />
  <title>Welcome | Tic Tac Toe</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="style.css" />
</head>
<body class="welcome-screen">

  <!-- Background Animation -->
  <div class="particles-bg">
    <div class="circle one"></div>
    <div class="circle two"></div>
    <div class="circle three"></div>
  </div>

  <!-- Intro Music -->
  <audio id="intro-audio" preload="auto">
    <source src="assets/audio/intro.mp3" type="audio/mpeg" />
    <p>Your browser doesn't support HTML5 audio. Please update your browser.</p>
  </audio>

  <!-- Welcome Section -->
  <div class="welcome-container">
    <h1 class="welcome-title">ðŸŽ® Welcome to Tic Tac Toe</h1>
    <p class="welcome-text">Ready to test your strategy?</p>

    <button onclick="startGame()" class="btn">Start Game</button>

    <div class="theme-toggle">
      <label class="switch">
        <input type="checkbox" id="theme-switch">
        <span class="slider round"></span>
      </label>
      <span>ðŸŒ™ Dark Mode</span>
    </div>
  </div>

  <script>
    const introAudio = document.getElementById("intro-audio");
    let hasPlayed = false;

    function tryPlayAudioOnce() {
      if (!hasPlayed) {
        introAudio.play().then(() => {
          hasPlayed = true;
        }).catch((err) => {
          console.warn("Autoplay blocked:", err);
        });
      }
    }

    // Prepare audio
    window.addEventListener("load", () => {
      introAudio.load();
    });

    // Trigger play on first interaction
    window.addEventListener("click", tryPlayAudioOnce);
    window.addEventListener("keydown", tryPlayAudioOnce);

    // Theme toggle
    document.getElementById("theme-switch").addEventListener("change", () => {
      document.body.classList.toggle("light-theme");
    });

    function startGame() {
      introAudio.pause();
      window.location.href = "game.html";
    }
  </script>

</body>
</html>
